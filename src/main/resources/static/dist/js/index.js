import{c as e,e as t,f as a,i as l,j as s,k as r,l as o,m as i,p as n,q as u,s as d,F as c,u as p,r as g,v,x as m,T as f,y as h,h as y,z as b,A as x,w as k,a as w,B as F,C,D as S,E as z,G as _,H as E,I as T,J as A,K as L,n as V,L as W}from"./vendor.js";import"./charts.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const B=(e,t)=>{const a=e.__vccOpts||e;for(const[l,s]of t)a[l]=s;return a},$={class:"page-layout"},I={key:0,class:"page-header"},P={class:"page-header-content"},N={class:"page-title-section"},R={key:0,class:"page-title"},M={key:1,class:"page-subtitle"},j={key:0,class:"page-actions"},O={key:0,class:"page-loading"},U={class:"text-neutral-600 mt-4"},q=B({__name:"PageLayout",props:{title:{type:String,default:""},subtitle:{type:String,default:""},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"Loading..."},maxWidth:{type:String,default:"7xl",validator:e=>["full","7xl","6xl","5xl","4xl","3xl","2xl"].includes(e)},padding:{type:String,default:"default",validator:e=>["none","sm","default","lg"].includes(e)}},setup(n){const u=n,d=i(()=>"full"===u.maxWidth?"max-w-full":`max-w-${u.maxWidth}`),c=i(()=>({none:"",sm:"px-4 py-4",default:"px-6 py-8",lg:"px-8 py-12"}[u.padding])),p=i(()=>["page-content",d.value,c.value,"mx-auto"]);return(i,u)=>(t(),e("div",$,[n.title||n.subtitle||i.$slots.actions?(t(),e("div",I,[l("div",P,[l("div",N,[n.title?(t(),e("h1",R,s(n.title),1)):a("",!0),n.subtitle?(t(),e("p",M,s(n.subtitle),1)):a("",!0)]),i.$slots.actions?(t(),e("div",j,[r(i.$slots,"actions",{},void 0)])):a("",!0)])])):a("",!0),l("div",{class:o(p.value)},[n.loading?(t(),e("div",O,[u[0]||(u[0]=l("div",{class:"spinner-lg"},null,-1)),l("p",U,s(n.loadingText),1)])):r(i.$slots,"default",{key:1},void 0)],2)]))}},[["__scopeId","data-v-22b3cfb4"]]),D={class:"notification-container"},H=["aria-live"],Z={class:"notification-icon"},G={class:"notification-content"},J={key:0,class:"notification-title"},K={class:"notification-message"},Y=["onClick"],X=B({__name:"FioriNotification",setup(r,{expose:i}){const b=g([]);let x=0;const k=e=>{const t={success:()=>y("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},[y("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),y("path",{d:"m9 11 3 3L22 4"})]),error:()=>y("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},[y("circle",{cx:12,cy:12,r:10}),y("path",{d:"m15 9-6 6"}),y("path",{d:"m9 9 6 6"})]),warning:()=>y("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},[y("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}),y("path",{d:"M12 9v4"}),y("path",{d:"M12 17h.01"})]),info:()=>y("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},[y("circle",{cx:12,cy:12,r:10}),y("path",{d:"M12 16v-4"}),y("path",{d:"M12 8h.01"})])};return t[e]||t.info},w=e=>{const t={success:"notification-success",error:"notification-error",warning:"notification-warning",info:"notification-info"};return["notification-item","animate-slide-in-right",t[e.type]||t.info]},F=e=>{const t=b.value.findIndex(t=>t.id===e);-1!==t&&b.value.splice(t,1)};return i({show:e=>{const t=++x,a={id:t,message:e.message||"",title:e.title||"",type:e.type||"info",duration:void 0!==e.duration?e.duration:5e3,closable:!1!==e.closable};return b.value.push(a),a.duration>0&&setTimeout(()=>{F(t)},a.duration),t},close:F,closeAll:()=>{b.value=[]}}),(r,i)=>(t(),n(h,{to:"body"},[l("div",D,[u(f,{name:"notification-list"},{default:d(()=>[(t(!0),e(c,null,p(b.value,r=>(t(),e("div",{key:r.id,class:o(w(r)),role:"alert","aria-live":"error"===r.type?"assertive":"polite"},[l("div",Z,[(t(),n(v(k(r.type))))]),l("div",G,[r.title?(t(),e("p",J,s(r.title),1)):a("",!0),l("p",K,s(r.message),1)]),!1!==r.closable?(t(),e("button",{key:0,type:"button",class:"notification-close",onClick:e=>F(r.id),"aria-label":"Close notification"},[...i[0]||(i[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("path",{d:"M18 6 6 18"}),l("path",{d:"m6 6 12 12"})],-1)])],8,Y)):a("",!0),r.duration&&r.duration>0?(t(),e("div",{key:1,class:"notification-progress",style:m({animationDuration:`${r.duration}ms`})},null,4)):a("",!0)],10,H))),128))]),_:1})])]))}},[["__scopeId","data-v-297efc58"]]),Q={class:"fiori-shell-layout"},ee={class:"fiori-shell-bar"},te={class:"shell-bar-content"},ae={class:"shell-bar-brand"},le={class:"brand-name"},se={class:"shell-bar-nav"},re=["onClick"],oe={class:"shell-bar-actions"},ie={class:"fiori-main-content"},ne=B({__name:"FioriShellLayout",props:{appTitle:{type:String,default:"Feature Flag Manager"},navItems:{type:Array,default:()=>[]},activeNav:{type:String,default:""}},emits:["nav-click"],setup(i,{expose:d,emit:m}){const f=i,h=m,y=g(null),b=e=>["nav-item",e.id===f.activeNav||e.active?"active":""];return d({showNotification:e=>{var t;return null==(t=y.value)?void 0:t.show(e)},closeNotification:e=>{var t;null==(t=y.value)||t.close(e)},closeAllNotifications:()=>{var e;null==(e=y.value)||e.closeAll()}}),(d,g)=>(t(),e("div",Q,[l("nav",ee,[l("div",te,[l("div",ae,[g[0]||(g[0]=l("img",{src:"https://www.leanix.net/hubfs/2024-Website/branding/logo/favicon/256x256.svg",alt:"LeanIX Logo",class:"brand-logo"},null,-1)),l("span",le,s(i.appTitle),1)]),l("div",se,[(t(!0),e(c,null,p(i.navItems,r=>(t(),e("button",{key:r.id,class:o(b(r)),onClick:e=>(e=>{h("nav-click",e)})(r)},[r.icon?(t(),n(v(r.icon),{key:0,size:20})):a("",!0),l("span",null,s(r.label),1)],10,re))),128))]),l("div",oe,[r(d.$slots,"actions",{},void 0)])])]),l("main",ie,[r(d.$slots,"default",{},void 0)]),u(X,{ref_key:"notificationRef",ref:y},null,512)]))}},[["__scopeId","data-v-6c0da26b"]]),ue=["type","disabled"],de={key:0,class:"spinner-sm mr-2"},ce=B({__name:"FioriButton",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","tertiary","critical","success","ghost"].includes(e)},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},type:{type:String,default:"button",validator:e=>["button","submit","reset"].includes(e)},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},icon:{type:[Object,String],default:null},iconRight:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},emits:["click"],setup(l,{emit:s}){const u=l,d=s,c=e=>{u.disabled||u.loading||d("click",e)},p=i(()=>({small:"px-3 py-1.5 text-sm",medium:"px-4 py-2 text-base",large:"px-6 py-3 text-lg"}[u.size])),g=i(()=>({small:16,medium:20,large:24}[u.size])),m=i(()=>{var e;return!!(null==(e=u.$slots)?void 0:e.default)?u.iconRight?"ml-2":"mr-2":""}),f=i(()=>"inline-flex items-center"),h=i(()=>({primary:"bg-primary-700 text-white hover:bg-primary-800 active:bg-primary-900 shadow-fiori-md hover:shadow-fiori-lg disabled:bg-neutral-300 disabled:text-neutral-500",secondary:"bg-white text-primary-700 border-2 border-primary-700 hover:bg-primary-50 active:bg-primary-100 disabled:border-neutral-300 disabled:text-neutral-400",tertiary:"bg-transparent text-primary-700 hover:bg-primary-50 active:bg-primary-100 disabled:text-neutral-400",critical:"bg-danger-500 text-white hover:bg-danger-600 active:bg-danger-700 shadow-fiori-md hover:shadow-fiori-lg disabled:bg-neutral-300 disabled:text-neutral-500",success:"bg-success-500 text-white hover:bg-success-600 active:bg-success-700 shadow-fiori-md hover:shadow-fiori-lg disabled:bg-neutral-300 disabled:text-neutral-500",ghost:"bg-transparent text-neutral-700 hover:bg-neutral-100 active:bg-neutral-200 disabled:text-neutral-400"}[u.variant])),y=i(()=>["inline-flex items-center justify-center","font-medium","rounded-fiori-lg","transition-all duration-200","focus-ring","select-none",p.value,h.value,u.fullWidth?"w-full":"",u.disabled||u.loading?"cursor-not-allowed opacity-60":"cursor-pointer","ghost"!==u.variant&&"tertiary"!==u.variant?"button-ripple":""]);return(s,i)=>(t(),e("button",{type:l.type,disabled:l.disabled||l.loading,class:o(y.value),onClick:c},[l.loading?(t(),e("span",de)):a("",!0),l.icon&&!l.iconRight?(t(),n(v(l.icon),{key:1,size:g.value,class:o(m.value)},null,8,["size","class"])):a("",!0),s.$slots.default?(t(),e("span",{key:2,class:o(f.value)},[r(s.$slots,"default",{},void 0)],2)):a("",!0),l.icon&&l.iconRight?(t(),n(v(l.icon),{key:3,size:g.value,class:o(m.value)},null,8,["size","class"])):a("",!0)],10,ue))}},[["__scopeId","data-v-61fff034"]]),pe={key:0,class:"card-header"},ge={key:2,class:"card-footer"},ve=B({__name:"FioriCard",props:{shadow:{type:String,default:"md",validator:e=>["none","sm","md","lg","xl"].includes(e)},rounded:{type:String,default:"2xl",validator:e=>["none","sm","md","lg","xl","2xl","3xl"].includes(e)},hover:{type:Boolean,default:!1},padding:{type:String,default:"default",validator:e=>["none","sm","default","lg"].includes(e)},border:{type:Boolean,default:!0},backgroundColor:{type:String,default:"white"},clickable:{type:Boolean,default:!1}},emits:["click"],setup(l,{emit:s}){const n=l,u=i(()=>({none:"",sm:"shadow-fiori-sm",md:"shadow-fiori-md",lg:"shadow-fiori-lg",xl:"shadow-fiori-xl"}[n.shadow])),d=i(()=>{if("none"===n.rounded)return"";return{sm:"rounded-fiori-sm",md:"rounded-fiori-md",lg:"rounded-fiori-lg",xl:"rounded-fiori-xl","2xl":"rounded-fiori-2xl","3xl":"rounded-fiori-3xl"}[n.rounded]}),c=i(()=>({none:"",sm:"p-3",default:"p-6",lg:"p-8"}[n.padding])),p=i(()=>{var e,t;return["fiori-card","transition-all duration-300",`bg-${n.backgroundColor}`,u.value,d.value,n.border?"border border-neutral-200":"",n.hover?"hover-lift cursor-pointer":"",n.clickable?"cursor-pointer":"",(null==(e=n.$slots)?void 0:e.header)||(null==(t=n.$slots)?void 0:t.footer)?"p-0":""]});return(l,s)=>(t(),e("div",{class:o(p.value)},[l.$slots.header?(t(),e("div",pe,[r(l.$slots,"header",{},void 0)])):a("",!0),l.$slots.default?(t(),e("div",{key:1,class:o(c.value)},[r(l.$slots,"default",{},void 0)],2)):a("",!0),l.$slots.footer?(t(),e("div",ge,[r(l.$slots,"footer",{},void 0)])):a("",!0)],2))}},[["__scopeId","data-v-8247f51b"]]),me={class:"fiori-input-wrapper"},fe=["for"],he={key:0,class:"text-danger-500 ml-1"},ye={class:"relative"},be={key:0,class:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400"},xe=["id","type","value","placeholder","disabled","readonly","required","maxlength"],ke={key:1,class:"absolute right-3 top-1/2 -translate-y-1/2"},we=B({__name:"FioriInput",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text",validator:e=>["text","email","password","number","tel","url","search"].includes(e)},label:{type:String,default:""},placeholder:{type:String,default:""},helperText:{type:String,default:""},error:{type:String,default:""},state:{type:String,default:"default",validator:e=>["default","error","success","warning"].includes(e)},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},iconLeft:{type:[Object,String],default:null},iconRight:{type:[Object,String],default:null},maxlength:{type:Number,default:null}},emits:["update:modelValue","blur","focus","enter","clear"],setup(r,{emit:u}){const d=r,c=u,p=i(()=>`fiori-input-${Math.random().toString(36).substr(2,9)}`),m=g(!1),f=e=>{c("update:modelValue",e.target.value)},h=e=>{m.value=!1,c("blur",e)},y=e=>{m.value=!0,c("focus",e)},k=e=>{c("enter",e)},w=()=>{c("update:modelValue",""),c("clear")},F=i(()=>["block text-sm font-medium mb-1.5",d.error?"text-danger-600":"text-neutral-700"]),C=i(()=>({small:"px-3 py-1.5 text-sm",medium:"px-4 py-2 text-base",large:"px-4 py-3 text-lg"}[d.size])),S=i(()=>{if(d.error||"error"===d.state)return"border-danger-500 focus:border-danger-500 focus:ring-danger-500";return{default:"border-neutral-300 focus:border-primary-500 focus:ring-primary-500",success:"border-success-500 focus:border-success-500 focus:ring-success-500",warning:"border-warning-500 focus:border-warning-500 focus:ring-warning-500",error:"border-danger-500 focus:border-danger-500 focus:ring-danger-500"}[d.state]}),z=i(()=>["w-full","rounded-fiori-lg","border","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-0","placeholder:text-neutral-400",C.value,S.value,d.iconLeft?"pl-10":"",d.iconRight||d.clearable?"pr-10":"",d.disabled?"bg-neutral-100 cursor-not-allowed text-neutral-500":"bg-white",d.readonly?"bg-neutral-50 cursor-default":""]),_=i(()=>["mt-1.5 text-sm",d.error?"text-danger-600":"text-neutral-600"]);return(i,u)=>(t(),e("div",me,[r.label?(t(),e("label",{key:0,for:p.value,class:o(F.value)},[b(s(r.label)+" ",1),r.required?(t(),e("span",he,"*")):a("",!0)],10,fe)):a("",!0),l("div",ye,[r.iconLeft?(t(),e("div",be,[(t(),n(v(r.iconLeft),{size:20}))])):a("",!0),l("input",{id:p.value,type:r.type,value:r.modelValue,placeholder:r.placeholder,disabled:r.disabled,readonly:r.readonly,required:r.required,maxlength:r.maxlength,class:o(z.value),onInput:f,onBlur:h,onFocus:y,onKeyup:x(k,["enter"])},null,42,xe),r.iconRight||r.clearable&&r.modelValue?(t(),e("div",ke,[r.clearable&&r.modelValue&&!r.disabled?(t(),e("button",{key:0,type:"button",class:"text-neutral-400 hover:text-neutral-600 transition-colors",onClick:w,"aria-label":"Clear input"},[...u[0]||(u[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("circle",{cx:"12",cy:"12",r:"10"}),l("path",{d:"m15 9-6 6"}),l("path",{d:"m9 9 6 6"})],-1)])])):r.iconRight?(t(),n(v(r.iconRight),{key:1,size:20,class:"text-neutral-400"})):a("",!0)])):a("",!0)]),r.helperText||r.error?(t(),e("p",{key:1,class:o(_.value)},s(r.error||r.helperText),3)):a("",!0)]))}},[["__scopeId","data-v-b9236a91"]]),Fe=["width","height"],Ce=B({__name:"FioriBadge",props:{text:{type:[String,Number],required:!0},variant:{type:String,default:"neutral",validator:e=>["primary","success","warning","danger","info","neutral"].includes(e)},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},icon:{type:[Object,String],default:null},iconRight:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},pulse:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1}},emits:["close"],setup(r,{emit:u}){const d=r,c=u,p=()=>{c("close")},g=i(()=>({small:"px-2 py-0.5 text-xs",medium:"px-3 py-1 text-sm",large:"px-4 py-1.5 text-base"}[d.size])),m=i(()=>({small:12,medium:14,large:16}[d.size])),f=i(()=>d.icon?d.iconRight?"ml-1.5 -mr-0.5":"mr-1.5 -ml-0.5":""),h=i(()=>{if(d.outlined){return{primary:"bg-primary-50 text-primary-700 border border-primary-300",success:"bg-success-50 text-success-700 border border-success-300",warning:"bg-warning-50 text-warning-700 border border-warning-300",danger:"bg-danger-50 text-danger-700 border border-danger-300",info:"bg-info-50 text-info-700 border border-info-300",neutral:"bg-neutral-50 text-neutral-700 border border-neutral-300"}[d.variant]}return{primary:"bg-primary-600 text-white",success:"bg-success-500 text-white",warning:"bg-warning-500 text-white",danger:"bg-danger-500 text-white",info:"bg-info-500 text-white",neutral:"bg-neutral-200 text-neutral-700"}[d.variant]}),y=i(()=>["inline-flex items-center","font-medium","rounded-fiori-md","whitespace-nowrap","select-none",g.value,h.value,d.pulse?"badge-pulse":"","transition-all duration-200"]);return(i,u)=>(t(),e("span",{class:o(y.value)},[r.icon&&!r.iconRight?(t(),n(v(r.icon),{key:0,size:m.value,class:o(f.value)},null,8,["size","class"])):a("",!0),l("span",null,s(r.text),1),r.icon&&r.iconRight?(t(),n(v(r.icon),{key:1,size:m.value,class:o(f.value)},null,8,["size","class"])):a("",!0),r.closable?(t(),e("button",{key:2,type:"button",class:"ml-1.5 -mr-1 hover:opacity-70 transition-opacity",onClick:p,"aria-label":"Close badge"},[(t(),e("svg",{xmlns:"http://www.w3.org/2000/svg",width:m.value,height:m.value,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[...u[0]||(u[0]=[l("path",{d:"M18 6 6 18"},null,-1),l("path",{d:"m6 6 12 12"},null,-1)])],8,Fe))])):a("",!0)],2))}},[["__scopeId","data-v-30456c21"]]),Se={class:"form-group"},ze=["for"],_e={key:0,class:"text-danger-500 ml-1"},Ee={key:1,class:"text-sm text-neutral-600 mb-2"},Te={key:2,class:"mt-1.5 text-sm text-danger-600 flex items-center gap-1"},Ae={key:3,class:"mt-1.5 text-sm text-neutral-600"},Le=B({__name:"FormGroup",props:{label:{type:String,default:""},description:{type:String,default:""},helperText:{type:String,default:""},error:{type:String,default:""},required:{type:Boolean,default:!1},inputId:{type:String,default:()=>`form-group-${Math.random().toString(36).substr(2,9)}`}},setup(n){const u=n,d=i(()=>["block text-sm font-medium mb-1.5",u.error?"text-danger-600":"text-neutral-700"]);return(i,u)=>(t(),e("div",Se,[n.label?(t(),e("label",{key:0,for:n.inputId,class:o(d.value)},[b(s(n.label)+" ",1),n.required?(t(),e("span",_e,"*")):a("",!0)],10,ze)):a("",!0),n.description?(t(),e("p",Ee,s(n.description),1)):a("",!0),r(i.$slots,"default",{inputId:n.inputId,hasError:!!n.error,isRequired:n.required},void 0),n.error?(t(),e("p",Te,[u[0]||(u[0]=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("circle",{cx:"12",cy:"12",r:"10"}),l("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),l("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})],-1)),b(" "+s(n.error),1)])):n.helperText?(t(),e("p",Ae,s(n.helperText),1)):a("",!0)]))}},[["__scopeId","data-v-b3eca30a"]]),Ve={class:"search-bar-wrapper"},We={class:"relative"},Be=["value","type","placeholder","disabled"],$e={class:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2"},Ie={key:0,class:"spinner-sm"},Pe={key:0,class:"search-suggestions"},Ne=["onClick"],Re=B({__name:"SearchBar",props:{modelValue:{type:String,default:""},type:{type:String,default:"search"},placeholder:{type:String,default:"Search..."},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},suggestions:{type:Array,default:()=>[]}},emits:["update:modelValue","search","clear","focus","blur","enter","escape","suggestion-click"],setup(r,{emit:n}){const u=r,d=n,v=g(null),m=g(!1),f=e=>{d("update:modelValue",e.target.value),d("search",e.target.value)},h=()=>{var e;d("update:modelValue",""),d("clear"),null==(e=v.value)||e.focus()},y=e=>{m.value=!0,d("focus",e)},b=e=>{setTimeout(()=>{m.value=!1,d("blur",e)},200)},k=e=>{d("enter",e.target.value)},w=()=>{var e;null==(e=v.value)||e.blur(),d("escape")},F=i(()=>({small:"h-9 text-sm",medium:"h-11 text-base",large:"h-13 text-lg"}[u.size])),C=i(()=>["w-full","pl-10 pr-12","rounded-fiori-lg","border border-neutral-300","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500","placeholder:text-neutral-400",F.value,u.disabled?"bg-neutral-100 cursor-not-allowed text-neutral-500":"bg-white",u.loading?"pr-14":""]);return(i,n)=>(t(),e("div",Ve,[l("div",We,[n[1]||(n[1]=l("div",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400 pointer-events-none"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("circle",{cx:"11",cy:"11",r:"8"}),l("path",{d:"m21 21-4.3-4.3"})])],-1)),l("input",{ref_key:"searchInput",ref:v,value:r.modelValue,type:r.type,placeholder:r.placeholder,disabled:r.disabled,class:o(C.value),onInput:f,onFocus:y,onBlur:b,onKeyup:[x(k,["enter"]),x(w,["esc"])]},null,42,Be),l("div",$e,[r.loading?(t(),e("div",Ie)):r.modelValue&&r.clearable&&!r.disabled?(t(),e("button",{key:1,type:"button",class:"text-neutral-400 hover:text-neutral-600 transition-colors",onClick:h,"aria-label":"Clear search"},[...n[0]||(n[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("circle",{cx:"12",cy:"12",r:"10"}),l("path",{d:"m15 9-6 6"}),l("path",{d:"m9 9 6 6"})],-1)])])):a("",!0)])]),r.suggestions&&r.suggestions.length>0&&m.value?(t(),e("div",Pe,[(t(!0),e(c,null,p(r.suggestions,(a,l)=>(t(),e("div",{key:l,class:"search-suggestion-item",onClick:e=>(e=>{d("update:modelValue",e),d("suggestion-click",e),m.value=!1})(a)},s(a),9,Ne))),128))])):a("",!0)]))}},[["__scopeId","data-v-638275d6"]]),Me={class:"stat-card-content"},je={class:"stat-card-body"},Oe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Ue={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},qe={key:2,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},De={key:3,class:"trend-label"},He={key:1,class:"stat-card-description"},Ze=B({__name:"StatCard",props:{value:{type:[String,Number],required:!0},label:{type:String,required:!0},icon:{type:[Object,String],default:null},iconSize:{type:Number,default:24},iconColor:{type:String,default:"text-primary-600"},backgroundColor:{type:String,default:"bg-blue-50"},accentColor:{type:String,default:null},trend:{type:Object,default:null},description:{type:String,default:""},clickable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},formatValue:{type:Function,default:e=>e}},emits:["click"],setup(u,{emit:c}){const p=u,g=c,f=()=>{p.clickable&&g("click")},h=i(()=>p.loading?"...":p.formatValue(p.value)),y=i(()=>["stat-card",p.loading?"animate-pulse":""]),b=i(()=>["stat-card-accent",p.accentColor&&p.accentColor.startsWith("bg-")?p.accentColor:""]),x=i(()=>p.accentColor&&!p.accentColor.startsWith("bg-")?{backgroundColor:p.accentColor}:{}),k=i(()=>["stat-card-icon",p.backgroundColor]),w=i(()=>p.backgroundColor&&!p.backgroundColor.startsWith("bg-")?{backgroundColor:p.backgroundColor}:{}),F=i(()=>[p.iconColor]),C=i(()=>["stat-card-value",p.loading?"skeleton skeleton-text":""]),S=i(()=>["stat-card-label",p.loading?"skeleton skeleton-text w-2/3":""]),z=i(()=>{if(!p.trend)return[];const e=["stat-card-trend","flex items-center gap-1","text-xs font-medium","mt-2"];return"up"===p.trend.direction?[...e,"text-success-600"]:"down"===p.trend.direction?[...e,"text-danger-600"]:[...e,"text-neutral-500"]});return(i,c)=>(t(),n(ve,{hover:u.clickable,class:o(y.value),onClick:f},{default:d(()=>[l("div",Me,[u.accentColor?(t(),e("div",{key:0,class:o(b.value),style:m(x.value)},null,6)):a("",!0),u.icon||i.$slots.icon?(t(),e("div",{key:1,class:o(k.value),style:m(w.value)},[r(i.$slots,"icon",{},()=>[(t(),n(v(u.icon),{size:u.iconSize,class:o(F.value)},null,8,["size","class"]))],!0)],6)):a("",!0),l("div",je,[l("div",{class:o(C.value)},s(h.value),3),l("div",{class:o(S.value)},s(u.label),3),u.trend?(t(),e("div",{key:0,class:o(z.value)},["up"===u.trend.direction?(t(),e("svg",Oe,[...c[0]||(c[0]=[l("path",{d:"m5 12 7-7 7 7"},null,-1),l("path",{d:"M12 19V5"},null,-1)])])):"down"===u.trend.direction?(t(),e("svg",Ue,[...c[1]||(c[1]=[l("path",{d:"M12 5v14"},null,-1),l("path",{d:"m19 12-7 7-7-7"},null,-1)])])):(t(),e("svg",qe,[...c[2]||(c[2]=[l("path",{d:"M5 12h14"},null,-1)])])),l("span",null,s(u.trend.value),1),u.trend.label?(t(),e("span",De,s(u.trend.label),1)):a("",!0)],2)):a("",!0),u.description?(t(),e("p",He,s(u.description),1)):a("",!0)])])]),_:3},8,["hover","class"]))}},[["__scopeId","data-v-29dfdfd8"]]),Ge=["aria-labelledby"],Je={class:"modal-header"},Ke=["id"],Ye={key:0,class:"modal-footer"},Xe=B({__name:"FioriModal",props:{visible:{type:Boolean,required:!0},title:{type:String,default:""},size:{type:String,default:"md",validator:e=>["sm","md","lg","xl","full"].includes(e)},closable:{type:Boolean,default:!0},closeOnOverlay:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},scrollable:{type:Boolean,default:!0},padding:{type:String,default:"default",validator:e=>["none","sm","default","lg"].includes(e)}},emits:["close","open"],setup(c,{emit:p}){const g=c,v=p,m=i(()=>`modal-title-${Math.random().toString(36).substr(2,9)}`),f=i(()=>({sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-full mx-4"}[g.size])),y=i(()=>({none:"p-0",sm:"p-3",default:"p-6",lg:"p-8"}[g.padding])),x=i(()=>["modal-container","relative","w-full",f.value,"bg-white","rounded-fiori-2xl","shadow-fiori-2xl","my-8","mx-auto","max-h-[90vh]","flex flex-col"]),z=i(()=>["modal-body",y.value,g.scrollable?"overflow-y-auto flex-1":""]),_=()=>{g.closable&&v("close")},E=()=>{g.closeOnOverlay&&_()},T=e=>{"Escape"===e.key&&g.visible&&g.closeOnEsc&&_()};return k(()=>g.visible,e=>{e?(document.body.style.overflow="hidden",v("open")):document.body.style.overflow=""}),w(()=>{document.addEventListener("keydown",T)}),F(()=>{document.removeEventListener("keydown",T),document.body.style.overflow=""}),(i,p)=>(t(),n(h,{to:"body"},[u(C,{name:"modal-fade"},{default:d(()=>[c.visible?(t(),e("div",{key:0,class:"modal-overlay",onClick:E},[u(C,{name:"modal-scale"},{default:d(()=>[c.visible?(t(),e("div",{key:0,class:o(x.value),onClick:p[0]||(p[0]=S(()=>{},["stop"])),role:"dialog","aria-modal":"true","aria-labelledby":m.value},[l("div",Je,[l("h2",{id:m.value,class:"modal-title"},[r(i.$slots,"title",{},()=>[b(s(c.title),1)],!0)],8,Ke),c.closable?(t(),e("button",{key:0,type:"button",class:"modal-close",onClick:_,"aria-label":"Close modal"},[...p[1]||(p[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("path",{d:"M18 6 6 18"}),l("path",{d:"m6 6 12 12"})],-1)])])):a("",!0)]),l("div",{class:o(z.value)},[r(i.$slots,"default",{},void 0,!0)],2),i.$slots.footer?(t(),e("div",Ye,[r(i.$slots,"footer",{},void 0,!0)])):a("",!0)],10,Ge)):a("",!0)]),_:3})])):a("",!0)]),_:3})]))}},[["__scopeId","data-v-627ddaf2"]]),Qe=["disabled"],et={class:"rollout-slider"},tt=["disabled"],at={class:"rollout-display"},lt={class:"rollout-value"},st={class:"rollout-bar"},rt={class:"form-actions"},ot=B({__name:"FeatureFlagForm",props:{featureFlag:{type:Object,default:null},isEdit:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(r,{emit:c}){const p=r,g=c,v=z({name:"",description:"",team:"",rolloutPercentage:0}),f=z({name:"",team:""});k(()=>p.featureFlag,e=>{e?(v.name=e.name||"",v.description=e.description||"",v.team=e.team||"",v.rolloutPercentage=e.rolloutPercentage||0):F()},{immediate:!0});const h=e=>{"name"===e&&(v.name&&""!==v.name.trim()?v.name.length<3?f.name="Name must be at least 3 characters":f.name="":f.name="Name is required"),"team"===e&&(v.team&&""!==v.team.trim()?f.team="":f.team="Team is required")},y=i(()=>""!==v.name.trim()&&""!==v.team.trim()),x=()=>{var e;if(h("name"),h("team"),f.name||f.team)return;const t={name:v.name.trim(),description:(null==(e=v.description)?void 0:e.trim())||null,team:v.team.trim(),rolloutPercentage:p.isEdit?v.rolloutPercentage:0};g("submit",t)},w=()=>{g("cancel")},F=()=>{v.name="",v.description="",v.team="",v.rolloutPercentage=0,f.name="",f.team=""};return(i,c)=>(t(),e("form",{onSubmit:S(x,["prevent"]),class:"feature-flag-form"},[u(_(Le),{label:"Name",error:f.name,required:""},{default:d(()=>[u(_(we),{modelValue:v.name,"onUpdate:modelValue":c[0]||(c[0]=e=>v.name=e),placeholder:"Enter feature flag name",disabled:r.isEdit||r.loading,error:f.name,required:"",onBlur:c[1]||(c[1]=e=>h("name"))},null,8,["modelValue","disabled","error"])]),_:1},8,["error"]),u(_(Le),{label:"Description","helper-text":"Optional: Add a description for this feature flag"},{default:d(()=>[E(l("textarea",{"onUpdate:modelValue":c[2]||(c[2]=e=>v.description=e),placeholder:"Enter description (optional)",disabled:r.isEdit||r.loading,class:"fiori-textarea",rows:"3"},null,8,Qe),[[T,v.description]])]),_:1}),u(_(Le),{label:"Team",error:f.team,required:""},{default:d(()=>[u(_(we),{modelValue:v.team,"onUpdate:modelValue":c[3]||(c[3]=e=>v.team=e),placeholder:"Enter team name",disabled:r.isEdit||r.loading,error:f.team,required:"",onBlur:c[4]||(c[4]=e=>h("team"))},null,8,["modelValue","disabled","error"])]),_:1},8,["error"]),r.isEdit?(t(),n(_(Le),{key:0,label:"Rollout Percentage","helper-text":`Current rollout: ${v.rolloutPercentage}%`},{default:d(()=>[l("div",et,[E(l("input",{"onUpdate:modelValue":c[5]||(c[5]=e=>v.rolloutPercentage=e),type:"range",min:"0",max:"100",disabled:r.loading,class:"slider"},null,8,tt),[[T,v.rolloutPercentage,void 0,{number:!0}]]),l("div",at,[l("span",lt,s(v.rolloutPercentage)+"%",1),l("div",st,[l("div",{class:o(["rollout-fill",{low:v.rolloutPercentage<25,medium:v.rolloutPercentage>=25&&v.rolloutPercentage<=75,high:v.rolloutPercentage>75}]),style:m({width:v.rolloutPercentage+"%"})},null,6)])])])]),_:1},8,["helper-text"])):a("",!0),l("div",rt,[u(_(ce),{type:"button",variant:"secondary",onClick:w,disabled:r.loading},{default:d(()=>[...c[6]||(c[6]=[b(" Cancel ",-1)])]),_:1},8,["disabled"]),u(_(ce),{type:"submit",variant:"primary",loading:r.loading,disabled:!y.value},{default:d(()=>[b(s(r.isEdit?"Update Flag":"Create Flag"),1)]),_:1},8,["loading","disabled"])])],32))}},[["__scopeId","data-v-c4eae54a"]]);function it(e,t,a=300){const l=g(e.value),s=g(!1);let r=null;k(e,e=>{s.value=!0,r&&clearTimeout(r),r=setTimeout(()=>{l.value=e,s.value=!1,t&&"function"==typeof t&&t(e)},a)});const o=()=>{r&&(clearTimeout(r),s.value=!1)};return{debouncedValue:l,isDebouncing:s,cancel:o,flush:()=>{o(),l.value=e.value,t&&"function"==typeof t&&t(e.value)}}}const nt={baseURL:"/api",async request(e,t={}){var a,l;try{return(await A({url:`${this.baseURL}${e}`,method:t.method||"GET",headers:{"Content-Type":"application/json",...t.headers},...t})).data}catch(s){const e=(null==(l=null==(a=s.response)?void 0:a.data)?void 0:l.message)||s.message||"An error occurred";throw new Error(e)}},getFeatureFlags(){return this.request("/feature-flags")},getFeatureFlagsByTeam(e){return this.request(`/feature-flags/team/${encodeURIComponent(e)}`)},createFeatureFlag(e){return this.request("/feature-flags",{method:"POST",data:e})},updateFeatureFlag(e,t){return this.request(`/feature-flags/${e}`,{method:"PUT",data:t})},deleteFeatureFlag(e){return this.request(`/feature-flags/${e}`,{method:"DELETE"})},getAuditLogs(e=0,t=100,a=""){const l=a?`&search=${encodeURIComponent(a)}`:"";return this.request(`/audit-logs?paginated=true&page=${e}&size=${t}${l}`)},getAuditLogsByFeatureFlagId(e){return this.request(`/audit-logs/feature-flag/${e}`)},getWorkspaces(e=0,t=100,a=""){const l=a?`&search=${encodeURIComponent(a)}`:"";return this.request(`/workspaces?paginated=true&page=${e}&size=${t}${l}`)},updateWorkspaceFeatureFlags(e,t){return this.request(`/feature-flags/${e}/workspaces`,{method:"PUT",data:t})},getEnabledWorkspacesForFeatureFlag(e,t=0,a=100,l=""){const s=l?`&search=${encodeURIComponent(l)}`:"";return this.request(`/feature-flags/${e}/enabled-workspaces?paginated=true&page=${t}&size=${a}${s}`)},getEnabledFeatureFlagsForWorkspace(e,t=0,a=100,l=""){const s=l?`&search=${encodeURIComponent(l)}`:"";return this.request(`/workspaces/${e}/enabled-feature-flags?paginated=true&page=${t}&size=${a}${s}`)},getWorkspaceCountsByRegion(e){return this.request(`/feature-flags/${e}/workspace-counts-by-region`)}},ut={class:"workspace-feature-flag-form"},dt={class:"rollout-slider"},ct=["disabled"],pt={class:"rollout-display"},gt={class:"rollout-value"},vt={class:"rollout-bar"},mt=["disabled"],ft={key:0,class:"search-dropdown"},ht=["onClick"],yt={class:"flex-1"},bt={class:"font-medium"},xt={class:"flex gap-2 mt-1"},kt={key:1,class:"mt-4"},wt={class:"text-sm font-medium text-neutral-700 mb-2"},Ft={class:"space-y-2"},Ct={class:"flex-1"},St={class:"font-medium"},zt={class:"flex gap-2 mt-1"},_t=["onClick","disabled"],Et={key:0,class:"search-dropdown"},Tt=["onClick"],At={class:"flex-1"},Lt={class:"font-medium"},Vt={class:"flex gap-2 mt-1"},Wt={key:1,class:"mt-4"},Bt={class:"text-sm font-medium text-neutral-700 mb-2"},$t={class:"space-y-2"},It={class:"flex-1"},Pt={class:"font-medium"},Nt={class:"flex gap-2 mt-1"},Rt=["onClick","disabled"],Mt={class:"form-actions"},jt=B({__name:"WorkspaceFeatureFlagForm",props:{featureFlag:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(r,{emit:o}){const v=r,f=o,h=g(""),y=g([]),x=g(!1),F=g(!1),C=g(""),S=g([]),z=g(!1),A=g(!1),V=g([]),W=g([]),B=g(0),$=g(0),I=g(null),P=i(()=>B.value!==$.value),N=i(()=>V.value.length),R=i(()=>W.value.length),M=i(()=>P.value||V.value.length>0||W.value.length>0),j=async()=>{if(!h.value||h.value.length<2)return y.value=[],void(F.value=!1);try{x.value=!0;const e=await nt.getWorkspaces(0,20,h.value);y.value=e.content||[],F.value=y.value.length>0}catch(e){y.value=[],F.value=!1}finally{x.value=!1}},O=async()=>{if(!C.value||C.value.length<2)return S.value=[],void(A.value=!1);try{z.value=!0;const e=await nt.getWorkspaces(0,20,C.value);S.value=e.content||[],A.value=S.value.length>0}catch(e){S.value=[],A.value=!1}finally{z.value=!1}},U=()=>{M.value?f("submit",{workspaceIds:V.value.map(e=>e.id),excludedWorkspaceIds:W.value.map(e=>e.id),enabled:!0,rolloutPercentage:B.value,targetRegion:I.value}):alert("Please change the rollout percentage, pick workspaces to prioritize, or exclude workspaces")},q=()=>{f("cancel")};return it(h,j,300),it(C,O,300),w(()=>{B.value=v.featureFlag.rolloutPercentage||0,$.value=v.featureFlag.rolloutPercentage||0}),k(()=>v.featureFlag,e=>{e&&(B.value=e.rolloutPercentage||0,$.value=e.rolloutPercentage||0)}),(o,i)=>(t(),e("div",ut,[u(_(Le),{label:"Rollout Percentage","helper-text":`Adjust the rollout percentage: ${B.value}%`},{default:d(()=>[l("div",dt,[E(l("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>B.value=e),type:"range",min:"0",max:"100",disabled:r.loading,class:"slider"},null,8,ct),[[T,B.value,void 0,{number:!0}]]),l("div",pt,[l("span",gt,s(B.value)+"%",1),l("div",vt,[l("div",{class:"rollout-fill",style:m({width:B.value+"%"})},null,4)])])])]),_:1},8,["helper-text"]),u(_(Le),{label:"Target Region","helper-text":"Optional: Target a specific region for this rollout"},{default:d(()=>[E(l("select",{"onUpdate:modelValue":i[1]||(i[1]=e=>I.value=e),disabled:r.loading,class:"fiori-select"},[...i[4]||(i[4]=[l("option",{value:null},"All Regions (apply percentage globally)",-1),l("option",{value:"WESTEUROPE"},"West Europe",-1),l("option",{value:"EASTUS"},"East US",-1),l("option",{value:"CANADACENTRAL"},"Canada Central",-1),l("option",{value:"AUSTRALIAEAST"},"Australia East",-1),l("option",{value:"GERMANYWESTCENTRAL"},"Germany West Central",-1),l("option",{value:"SWITZERLANDNORTH"},"Switzerland North",-1),l("option",{value:"UAENORTH"},"UAE North",-1),l("option",{value:"UKSOUTH"},"UK South",-1),l("option",{value:"BRAZILSOUTH"},"Brazil South",-1),l("option",{value:"SOUTHEASTASIA"},"Southeast Asia",-1),l("option",{value:"JAPANEAST"},"Japan East",-1),l("option",{value:"NORTHEUROPE"},"North Europe",-1)])],8,mt),[[L,I.value]])]),_:1}),u(_(Le),{label:"Pick Workspaces to Prioritize","helper-text":"Search and select specific workspaces to enable this feature flag"},{default:d(()=>[u(_(Re),{modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=e=>h.value=e),placeholder:"Search for workspaces to pick...",loading:x.value,onSearch:j},null,8,["modelValue","loading"]),F.value&&y.value.length>0?(t(),e("div",ft,[(t(!0),e(c,null,p(y.value,r=>(t(),e("div",{key:r.id,class:"search-result-item",onClick:e=>(e=>{V.value.some(t=>t.id===e.id)||V.value.push(e),h.value="",y.value=[],F.value=!1})(r)},[l("div",yt,[l("div",bt,s(r.name),1),l("div",xt,[r.type?(t(),n(_(Ce),{key:0,variant:"neutral",text:r.type,size:"small"},null,8,["text"])):a("",!0),r.region?(t(),n(_(Ce),{key:1,variant:"warning",text:r.region,size:"small"},null,8,["text"])):a("",!0)])])],8,ht))),128))])):a("",!0),V.value.length>0?(t(),e("div",kt,[l("p",wt," Picked Workspaces ("+s(N.value)+") ",1),l("div",Ft,[(t(!0),e(c,null,p(V.value,o=>(t(),e("div",{key:o.id,class:"picked-workspace-item"},[l("div",Ct,[l("div",St,s(o.name),1),l("div",zt,[o.type?(t(),n(_(Ce),{key:0,variant:"neutral",text:o.type,size:"small"},null,8,["text"])):a("",!0),o.region?(t(),n(_(Ce),{key:1,variant:"warning",text:o.region,size:"small"},null,8,["text"])):a("",!0)])]),l("button",{type:"button",class:"remove-button",onClick:e=>{return t=o.id,void(V.value=V.value.filter(e=>e.id!==t));var t},disabled:r.loading},[...i[5]||(i[5]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("path",{d:"M18 6 6 18"}),l("path",{d:"m6 6 12 12"})],-1)])],8,_t)]))),128))])])):a("",!0)]),_:1}),u(_(Le),{label:"Exclude Workspaces","helper-text":"Search and select workspaces to always keep this feature flag disabled"},{default:d(()=>[u(_(Re),{modelValue:C.value,"onUpdate:modelValue":i[3]||(i[3]=e=>C.value=e),placeholder:"Search for workspaces to exclude...",loading:z.value,onSearch:O},null,8,["modelValue","loading"]),A.value&&S.value.length>0?(t(),e("div",Et,[(t(!0),e(c,null,p(S.value,r=>(t(),e("div",{key:r.id,class:"search-result-item",onClick:e=>(e=>{W.value.some(t=>t.id===e.id)||W.value.push(e),C.value="",S.value=[],A.value=!1})(r)},[l("div",At,[l("div",Lt,s(r.name),1),l("div",Vt,[r.type?(t(),n(_(Ce),{key:0,variant:"neutral",text:r.type,size:"small"},null,8,["text"])):a("",!0),r.region?(t(),n(_(Ce),{key:1,variant:"warning",text:r.region,size:"small"},null,8,["text"])):a("",!0)])])],8,Tt))),128))])):a("",!0),W.value.length>0?(t(),e("div",Wt,[l("p",Bt," Excluded Workspaces ("+s(R.value)+") ",1),l("div",$t,[(t(!0),e(c,null,p(W.value,o=>(t(),e("div",{key:o.id,class:"excluded-workspace-item"},[l("div",It,[l("div",Pt,s(o.name),1),l("div",Nt,[o.type?(t(),n(_(Ce),{key:0,variant:"neutral",text:o.type,size:"small"},null,8,["text"])):a("",!0),o.region?(t(),n(_(Ce),{key:1,variant:"warning",text:o.region,size:"small"},null,8,["text"])):a("",!0)])]),l("button",{type:"button",class:"remove-button",onClick:e=>{return t=o.id,void(W.value=W.value.filter(e=>e.id!==t));var t},disabled:r.loading},[...i[6]||(i[6]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[l("path",{d:"M18 6 6 18"}),l("path",{d:"m6 6 12 12"})],-1)])],8,Rt)]))),128))])])):a("",!0)]),_:1}),l("div",Mt,[u(_(ce),{type:"button",variant:"secondary",onClick:q,disabled:r.loading},{default:d(()=>[...i[7]||(i[7]=[b(" Cancel ",-1)])]),_:1},8,["disabled"]),u(_(ce),{type:"button",variant:"primary",onClick:U,loading:r.loading,disabled:!M.value},{default:d(()=>[...i[8]||(i[8]=[b(" Update Workspaces ",-1)])]),_:1},8,["loading","disabled"])])]))}},[["__scopeId","data-v-8ae25919"]]);
/**
 * @license lucide-vue-next v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Ot={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};
/**
 * @license lucide-vue-next v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(e,t)=>({size:a,strokeWidth:l=2,absoluteStrokeWidth:s,color:r,class:o,...i},{attrs:n,slots:u})=>{return y("svg",{...Ot,width:a||Ot.width,height:a||Ot.height,stroke:r||Ot.stroke,"stroke-width":s?24*Number(l)/Number(a):l,...n,class:["lucide",`lucide-${d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`],...i},[...t.map(e=>y(...e)),...u.default?[u.default()]:[]]);var d},qt=Ut("ActivityIcon",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Dt=Ut("BarChart3Icon",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ht=Ut("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Zt=Ut("CheckCircleIcon",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Gt=Ut("EyeIcon",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Jt=Ut("FlagIcon",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Kt=Ut("MapPinIcon",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Yt=Ut("PenLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Xt=Ut("PieChartIcon",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Qt=Ut("TagIcon",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),ea=Ut("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ta={class:"space-y-6"},aa={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},la={class:"text-lg font-semibold mb-4 flex items-center gap-2"},sa={class:"text-lg font-semibold mb-4 flex items-center gap-2"},ra={class:"text-lg font-semibold mb-4 flex items-center gap-2"},oa=B({__name:"DashboardCharts",props:{featureFlags:{type:Array,default:()=>[]},auditLogs:{type:Array,default:()=>[]}},setup(a){const s=a,r=g(null),o=g(null),n=g(null);let c=null,p=null,v=null;const m=i(()=>{const e={"Disabled (0%)":0,"Testing (1-25%)":0,"Partial (26-75%)":0,"Advanced (76-99%)":0,"Full (100%)":0};return s.featureFlags.forEach(t=>{const a=t.rolloutPercentage||0;0===a?e["Disabled (0%)"]++:a<=25?e["Testing (1-25%)"]++:a<=75?e["Partial (26-75%)"]++:a<100?e["Advanced (76-99%)"]++:e["Full (100%)"]++}),e}),f=i(()=>{const e={};return s.featureFlags.forEach(t=>{e[t.team]||(e[t.team]={total:0,active:0}),e[t.team].total++,t.rolloutPercentage>0&&e[t.team].active++}),e}),h=i(()=>{const e=new Date,t={};for(let a=29;a>=0;a--){const l=new Date(e);l.setDate(l.getDate()-a);const s=l.toISOString().split("T")[0];t[s]={CREATE:0,UPDATE:0,DELETE:0}}return s.auditLogs.forEach(e=>{const a=new Date(e.createdAt||e.timestamp).toISOString().split("T")[0];t[a]&&(t[a][e.operation]=(t[a][e.operation]||0)+1)}),t}),y=async()=>{if(!r.value)return;await V();const e=m.value,t=Object.keys(e),a={chart:{type:"donut",height:256,fontFamily:"Inter, sans-serif",animations:{enabled:!0,speed:800,animateGradually:{enabled:!0,delay:150}}},series:Object.values(e),labels:t,colors:["#9ca3af","#fbbf24","#3b82f6","#10b981","#002a86"],legend:{position:"bottom",fontSize:"12px",fontWeight:500},dataLabels:{enabled:!0,formatter:function(e,t){const a=t.w.config.series[t.seriesIndex];return a>0?a:""}},plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,name:{show:!0,fontSize:"14px",fontWeight:600},value:{show:!0,fontSize:"24px",fontWeight:700,color:"#002a86"},total:{show:!0,label:"Total Flags",fontSize:"14px",fontWeight:600,color:"#6b7280",formatter:function(e){return e.globals.seriesTotals.reduce((e,t)=>e+t,0)}}}}}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",fontSize:"10px"}}}]};window.ApexCharts&&(c=new window.ApexCharts(r.value,a),c.render())},x=async()=>{if(!o.value)return;await V();const e=f.value,t=Object.keys(e).sort(),a={chart:{type:"bar",height:256,fontFamily:"Inter, sans-serif",toolbar:{show:!1}},series:[{name:"Total Flags",data:t.map(t=>e[t].total)},{name:"Active Flags",data:t.map(t=>e[t].active)}],xaxis:{categories:t,labels:{style:{fontSize:"12px"}}},yaxis:{title:{text:"Number of Flags",style:{fontSize:"12px",fontWeight:500}},labels:{style:{fontSize:"12px"}}},colors:["#3b82f6","#002a86"],plotOptions:{bar:{horizontal:!1,columnWidth:"60%",borderRadius:4}},dataLabels:{enabled:!1},legend:{position:"top",fontSize:"12px",fontWeight:500,horizontalAlign:"right"},grid:{borderColor:"#e5e7eb",strokeDashArray:4}};window.ApexCharts&&(p=new window.ApexCharts(o.value,a),p.render())},F=async()=>{if(!n.value)return;await V();const e=h.value,t=Object.keys(e).sort(),a={chart:{type:"area",height:256,fontFamily:"Inter, sans-serif",toolbar:{show:!1},zoom:{enabled:!1}},series:[{name:"Created",data:t.map(t=>e[t].CREATE)},{name:"Updated",data:t.map(t=>e[t].UPDATE)},{name:"Deleted",data:t.map(t=>e[t].DELETE)}],xaxis:{categories:t.map(e=>{const t=new Date(e);return t.getMonth()+1+"/"+t.getDate()}),labels:{style:{fontSize:"11px"},rotate:-45}},yaxis:{title:{text:"Operations Count",style:{fontSize:"12px",fontWeight:500}},labels:{style:{fontSize:"12px"},formatter:function(e){return Math.floor(e)}}},colors:["#10b981","#3b82f6","#ef4444"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},fill:{type:"gradient",gradient:{opacityFrom:.6,opacityTo:.1}},legend:{position:"top",fontSize:"12px",fontWeight:500,horizontalAlign:"right"},grid:{borderColor:"#e5e7eb",strokeDashArray:4},tooltip:{y:{formatter:function(e){return e+" operations"}}}};window.ApexCharts&&(v=new window.ApexCharts(n.value,a),v.render())};return k(()=>s.featureFlags,()=>{if(c){const e=m.value;c.updateSeries(Object.values(e))}if(p){const e=f.value,t=Object.keys(e).sort(),a=t.map(t=>e[t].total),l=t.map(t=>e[t].active);p.updateOptions({xaxis:{categories:t}}),p.updateSeries([{name:"Total Flags",data:a},{name:"Active Flags",data:l}])}},{deep:!0}),k(()=>s.auditLogs,()=>{if(v){const e=h.value,t=Object.keys(e).sort(),a=t.map(t=>e[t].CREATE),l=t.map(t=>e[t].UPDATE),s=t.map(t=>e[t].DELETE);v.updateOptions({xaxis:{categories:t.map(e=>{const t=new Date(e);return t.getMonth()+1+"/"+t.getDate()})}}),v.updateSeries([{name:"Created",data:a},{name:"Updated",data:l},{name:"Deleted",data:s}])}},{deep:!0}),w(()=>{if(window.ApexCharts)y(),x(),F();else{const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/apexcharts@3.45.2/dist/apexcharts.min.js",e.onload=()=>{y(),x(),F()},document.head.appendChild(e)}}),(a,s)=>(t(),e("div",ta,[l("div",aa,[u(ve,{class:"p-6"},{default:d(()=>[l("h3",la,[u(_(Xt),{size:20,class:"text-primary-600"}),s[0]||(s[0]=b(" Rollout Distribution ",-1))]),l("div",{ref_key:"rolloutChartRef",ref:r,class:"h-64"},null,512)]),_:1}),u(ve,{class:"p-6"},{default:d(()=>[l("h3",sa,[u(_(Dt),{size:20,class:"text-primary-600"}),s[1]||(s[1]=b(" Team Activity ",-1))]),l("div",{ref_key:"teamChartRef",ref:o,class:"h-64"},null,512)]),_:1})]),u(ve,{class:"p-6"},{default:d(()=>[l("h3",ra,[u(_(qt),{size:20,class:"text-primary-600"}),s[2]||(s[2]=b(" Activity Timeline (Last 30 Days) ",-1))]),l("div",{ref_key:"activityChartRef",ref:n,class:"h-64"},null,512)]),_:1})]))}},[["__scopeId","data-v-6f004c9f"]]),ia={key:0,class:"animate-fade-in"},na={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},ua={key:1,class:"animate-fade-in"},da={key:0,class:"text-center py-12"},ca={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},pa={class:"flex items-start gap-3 mb-3"},ga={class:"flex-shrink-0 w-10 h-10 rounded-fiori-lg bg-primary-50 flex items-center justify-center"},va={class:"flex-1 min-w-0"},ma={class:"text-lg font-semibold truncate"},fa={class:"text-sm text-neutral-600 mb-4"},ha={class:"flex gap-2 mb-4"},ya={class:"mb-4"},ba={class:"flex justify-between text-sm mb-1"},xa={class:"font-medium"},ka={class:"h-2 bg-neutral-200 rounded-full overflow-hidden"},wa={class:"flex flex-col gap-2"},Fa={class:"flex gap-2"},Ca={key:2,class:"animate-fade-in"},Sa={class:"flex justify-between items-center text-sm text-neutral-600 mb-4"},za={class:"flex items-center gap-2"},_a={key:0},Ea={key:1},Ta={key:0,class:"text-center py-12"},Aa={key:0,class:"text-neutral-600"},La={key:1,class:"text-neutral-600"},Va={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Wa={class:"flex items-start gap-3 mb-3"},Ba={class:"flex-shrink-0 w-10 h-10 rounded-fiori-lg bg-primary-50 flex items-center justify-center"},$a={class:"flex-1 min-w-0"},Ia={class:"text-lg font-semibold truncate"},Pa={class:"flex flex-wrap gap-2 mb-3"},Na={key:0,class:"flex items-center gap-1"},Ra={key:1,class:"flex items-center gap-1"},Ma={class:"mt-4 pt-4 border-t border-neutral-200"},ja={key:2,class:"text-center py-6"},Oa={key:3,class:"text-center py-6"},Ua={class:"text-neutral-500 text-sm"},qa={key:3,class:"animate-fade-in"},Da={class:"flex justify-between items-center text-sm text-neutral-600 mb-4"},Ha={key:0},Za={key:1},Ga={class:"space-y-4"},Ja={class:"flex items-start justify-between mb-4"},Ka={class:"flex items-start gap-3 flex-1"},Ya={class:"flex-shrink-0"},Xa={class:"flex-1 min-w-0"},Qa={class:"text-base font-semibold text-neutral-900 mb-1"},el={class:"flex items-center gap-2 text-sm text-neutral-600"},tl={key:0,class:"text-neutral-400"},al={key:1},ll={key:0,class:"mt-4 pt-4 border-t border-neutral-200"},sl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},rl={class:"bg-danger-50 rounded-fiori-lg p-3"},ol={class:"text-xs text-danger-900 overflow-x-auto"},il={class:"bg-success-50 rounded-fiori-lg p-3"},nl={class:"text-xs text-success-900 overflow-x-auto"},ul={key:1,class:"mt-4 pt-4 border-t border-neutral-200"},dl={class:"bg-success-50 rounded-fiori-lg p-3"},cl={class:"text-xs text-success-900 overflow-x-auto"},pl={key:2,class:"mt-4 pt-4 border-t border-neutral-200"},gl={class:"bg-danger-50 rounded-fiori-lg p-3"},vl={class:"text-xs text-danger-900 overflow-x-auto"},ml={key:0,class:"text-center py-6"},fl={key:1,class:"text-center py-6"},hl={class:"text-neutral-500 text-sm"},yl={key:2,class:"text-center py-12"},bl={key:0,class:"text-center py-8"},xl={key:1,class:"space-y-4"},kl={key:0,class:"flex items-center text-sm text-neutral-600"},wl={key:0},Fl={key:1},Cl={key:1,class:"text-center py-8"},Sl={key:2,class:"text-center py-8"},zl={class:"flex-shrink-0 w-10 h-10 rounded-fiori-lg bg-primary-50 flex items-center justify-center"},_l={class:"flex-1 min-w-0"},El={class:"font-semibold text-neutral-900 truncate"},Tl={key:0,class:"text-sm text-neutral-600 mt-1"},Al={class:"flex flex-wrap gap-2 mt-2"},Ll={key:0,class:"text-center py-4"},Vl={key:1,class:"text-center py-4"},Wl={class:"text-neutral-500 text-xs"},Bl={key:0,class:"text-center py-8"},$l={key:1,class:"text-center py-8"},Il={key:2,class:"space-y-4"},Pl={class:"flex items-center text-sm text-neutral-600"},Nl={key:0},Rl={key:1},Ml={key:0,class:"text-center py-8"},jl={class:"flex-shrink-0 w-10 h-10 rounded-fiori-lg bg-primary-50 flex items-center justify-center"},Ol={class:"flex-1 min-w-0"},Ul={class:"font-semibold text-neutral-900 truncate"},ql={class:"flex flex-wrap gap-2 mt-2"},Dl={key:0,class:"flex items-center gap-1"},Hl={key:1,class:"flex items-center gap-1"},Zl={key:2},Gl={key:0,class:"text-center py-4"},Jl={key:1,class:"text-center py-4"},Kl={class:"text-neutral-500 text-xs"};W(B({__name:"App",setup(r){const o=g("dashboard"),v=g(null),f=z({featureFlags:!1,auditLogs:!1,workspaces:!1}),h=g([]),y=g([]),x=g(0),C=g(0),S=g(!1),E=g(!0),T=g([]),A=z({featureFlag:"",auditLog:""}),L=g(""),V=z({featureFlag:!1,workspaceFeatureFlag:!1,enabledWorkspaces:!1,workspaceFlags:!1}),W=z({featureFlag:null,selectedFlagForWorkspaces:null,selectedFlagForViewing:null,selectedWorkspaceForFlags:null}),B=g([]),$=g(!1),I=g(""),P=g(0),N=g(0),R=g(!1),M=g(!0),j=g([]),O=g(!1),U=g(""),D=g(0),H=g(0),Z=g(!1),G=g(!0),J=g(0),K=g(0),Y=g(!1),X=g(!0),Q=i(()=>[{id:"dashboard",label:"Dashboard",active:"dashboard"===o.value},{id:"feature-flags",label:"Feature Flags",active:"feature-flags"===o.value},{id:"workspaces",label:"Workspaces",active:"workspaces"===o.value},{id:"audit-logs",label:"Audit Logs",active:"audit-logs"===o.value}]),ee=i(()=>({dashboard:"Dashboard","feature-flags":"Feature Flags",workspaces:"Workspaces","audit-logs":"Audit Logs"}[o.value]||"")),te=i(()=>({dashboard:"Overview of your feature flags","feature-flags":"Control feature rollouts and experiments",workspaces:"View all workspaces and their enabled feature flags","audit-logs":"View complete history of feature flag changes"}[o.value]||"")),ae=i(()=>f.featureFlags||f.auditLogs||f.workspaces),le=i(()=>h.value.filter(e=>{var t;if(!A.featureFlag)return!0;const a=A.featureFlag.toLowerCase();return e.name.toLowerCase().includes(a)||(null==(t=e.description)?void 0:t.toLowerCase().includes(a))||e.team.toLowerCase().includes(a)})),se=i(()=>y.value),re=i(()=>h.value.filter(e=>e.rolloutPercentage>0).length),oe=i(()=>[...new Set(h.value.map(e=>e.team))].sort()),ie=e=>{o.value=e.id,"dashboard"===e.id?(ue(),de()):"feature-flags"===e.id?ue():"workspaces"===e.id?ge():"audit-logs"===e.id&&de()},ue=async()=>{var e;try{f.featureFlags=!0,h.value=await nt.getFeatureFlags()}catch(t){null==(e=v.value)||e.showNotification({type:"error",message:t.message})}finally{f.featureFlags=!1}},de=async(e=!0)=>{var t;try{e&&(f.auditLogs=!0,x.value=0,y.value=[]);const t=await nt.getAuditLogs(x.value,100,A.auditLog);y.value=e?t.content||[]:[...y.value,...t.content||[]],C.value=t.totalElements||0,E.value=!t.last}catch(a){null==(t=v.value)||t.showNotification({type:"error",message:a.message})}finally{f.auditLogs=!1,S.value=!1}},pe=()=>{window.innerHeight+window.scrollY>=.8*document.documentElement.scrollHeight&&"audit-logs"===o.value&&(async()=>{!S.value&&E.value&&(S.value=!0,x.value++,await de(!1))})()},ge=async(e=!0)=>{var t;try{e&&(f.workspaces=!0,J.value=0,T.value=[]);const t=await nt.getWorkspaces(J.value,100,L.value);T.value=e?t.content||[]:[...T.value,...t.content||[]],K.value=t.totalElements||0,X.value=!t.last}catch(a){null==(t=v.value)||t.showNotification({type:"error",message:a.message})}finally{f.workspaces=!1,Y.value=!1}},me=()=>{window.innerHeight+window.scrollY>=.8*document.documentElement.scrollHeight&&"workspaces"===o.value&&(async()=>{!Y.value&&X.value&&(Y.value=!0,J.value++,await ge(!1))})()},fe=()=>{W.featureFlag=null,V.featureFlag=!0},he=async(e,t=!0)=>{var a;try{t&&($.value=!0,P.value=0,B.value=[]);const a=await nt.getEnabledWorkspacesForFeatureFlag(e.id,P.value,100,I.value);B.value=t?a.content||[]:[...B.value,...a.content||[]],N.value=a.totalElements||0,M.value=!a.last}catch(l){null==(a=v.value)||a.showNotification({type:"error",message:"Failed to load enabled workspaces: "+l.message})}finally{$.value=!1,R.value=!1}},ye=e=>{const t=e.target;t.scrollTop+t.clientHeight>=.8*t.scrollHeight&&V.enabledWorkspaces&&(async()=>{!R.value&&M.value&&W.selectedFlagForViewing&&(R.value=!0,P.value++,await he(W.selectedFlagForViewing,!1))})()},be=async e=>{var t,a,l;try{f.featureFlags=!0,W.featureFlag?(await nt.updateFeatureFlag(W.featureFlag.id,e),null==(t=v.value)||t.showNotification({type:"success",message:"Feature flag updated"})):(await nt.createFeatureFlag(e),null==(a=v.value)||a.showNotification({type:"success",message:"Feature flag created"})),ke(),ue()}catch(s){null==(l=v.value)||l.showNotification({type:"error",message:s.message})}finally{f.featureFlags=!1}},xe=async e=>{var t,a;try{f.featureFlags=!0,await nt.updateWorkspaceFeatureFlags(W.selectedFlagForWorkspaces.id,{workspaceIds:e.workspaceIds,excludedWorkspaceIds:e.excludedWorkspaceIds,enabled:e.enabled,rolloutPercentage:e.rolloutPercentage,targetRegion:e.targetRegion}),null==(t=v.value)||t.showNotification({type:"success",message:"Workspace rollout updated"}),we(),ue()}catch(l){null==(a=v.value)||a.showNotification({type:"error",message:l.message})}finally{f.featureFlags=!1}},ke=()=>{V.featureFlag=!1,W.featureFlag=null},we=()=>{V.workspaceFeatureFlag=!1,W.selectedFlagForWorkspaces=null},Fe=()=>{V.enabledWorkspaces=!1,W.selectedFlagForViewing=null,I.value="",P.value=0,B.value=[]},Se=async(e,t=!0)=>{var a;try{t&&(O.value=!0,D.value=0,j.value=[]);const a=await nt.getEnabledFeatureFlagsForWorkspace(e.id,D.value,100,U.value);j.value=t?a.content||[]:[...j.value,...a.content||[]],H.value=a.totalElements||0,G.value=!a.last}catch(l){null==(a=v.value)||a.showNotification({type:"error",message:"Failed to load feature flags: "+l.message})}finally{O.value=!1,Z.value=!1}},ze=async e=>{W.selectedWorkspaceForFlags=e,V.workspaceFlags=!0,await Se(e,!0)},_e=e=>{const t=e.target;t.scrollTop+t.clientHeight>=.8*t.scrollHeight&&V.workspaceFlags&&(async()=>{!Z.value&&G.value&&W.selectedWorkspaceForFlags&&(Z.value=!0,D.value++,await Se(W.selectedWorkspaceForFlags,!1))})()},Ee=()=>{V.workspaceFlags=!1,W.selectedWorkspaceForFlags=null,U.value="",D.value=0,j.value=[]},Te=e=>{if(!e)return"N/A";try{const t="string"==typeof e?JSON.parse(e):e;return JSON.stringify(t,null,2)}catch(t){return"string"==typeof e?e:JSON.stringify(e,null,2)}};let Ae=null;k(L,e=>{clearTimeout(Ae),Ae=setTimeout(()=>{ge(!0)},300)});let Le=null;k(U,e=>{W.selectedWorkspaceForFlags&&(clearTimeout(Le),Le=setTimeout(()=>{Se(W.selectedWorkspaceForFlags,!0)},300))});let Ve=null;k(I,e=>{W.selectedFlagForViewing&&(clearTimeout(Ve),Ve=setTimeout(()=>{he(W.selectedFlagForViewing,!0)},300))});let We=null;return k(()=>A.auditLog,e=>{clearTimeout(We),We=setTimeout(()=>{de(!0)},300)}),w(()=>{ue(),de(),window.addEventListener("scroll",me),window.addEventListener("scroll",pe)}),F(()=>{window.removeEventListener("scroll",me),window.removeEventListener("scroll",pe),clearTimeout(Ae),clearTimeout(Le),clearTimeout(Ve),clearTimeout(We)}),(r,i)=>(t(),n(_(ne),{ref_key:"shellRef",ref:v,"app-title":"Feature Flag Manager","nav-items":Q.value,"active-nav":o.value,onNavClick:ie},{default:d(()=>{var r,g;return[u(_(q),{title:ee.value,subtitle:te.value,loading:ae.value},{actions:d(()=>["feature-flags"===o.value?(t(),n(_(ce),{key:0,variant:"primary",onClick:fe},{default:d(()=>[...i[5]||(i[5]=[b(" Create Feature Flag ",-1)])]),_:1})):a("",!0)]),default:d(()=>["dashboard"===o.value?(t(),e("div",ia,[l("div",na,[u(_(Ze),{icon:_(Jt),value:h.value.length,label:"Total Flags","accent-color":"#0059c9"},null,8,["icon","value"]),u(_(Ze),{icon:_(Zt),value:re.value,label:"Active Flags","accent-color":"#10b981"},null,8,["icon","value"]),u(_(Ze),{icon:_(ea),value:oe.value.length,label:"Teams","accent-color":"#3b82f6"},null,8,["icon","value"])]),u(_(oa),{"feature-flags":h.value,"audit-logs":y.value},null,8,["feature-flags","audit-logs"])])):"feature-flags"===o.value?(t(),e("div",ua,[u(_(Re),{modelValue:A.featureFlag,"onUpdate:modelValue":i[0]||(i[0]=e=>A.featureFlag=e),placeholder:"Search feature flags...",class:"mb-6"},null,8,["modelValue"]),0===le.value.length?(t(),e("div",da,[...i[6]||(i[6]=[l("p",{class:"text-neutral-600"},"No feature flags found",-1)])])):(t(),e("div",ca,[(t(!0),e(c,null,p(le.value,e=>(t(),n(_(ve),{key:e.id,hover:"",class:"p-6"},{default:d(()=>[l("div",pa,[l("div",ga,[u(_(Jt),{size:20,class:"text-primary-600"})]),l("div",va,[l("h3",ma,s(e.name),1)])]),l("p",fa,s(e.description||"No description"),1),l("div",ha,[u(_(Ce),{variant:"info",text:e.team},null,8,["text"]),u(_(Ce),{variant:e.rolloutPercentage>0?"success":"neutral",text:e.rolloutPercentage>0?"Active":"Inactive"},null,8,["variant","text"])]),l("div",ya,[l("div",ba,[i[7]||(i[7]=l("span",null,"Rollout",-1)),l("span",xa,s(e.rolloutPercentage)+"%",1)]),l("div",ka,[l("div",{class:"h-full bg-primary-600 transition-all duration-300",style:m({width:e.rolloutPercentage+"%"})},null,4)])]),l("div",wa,[u(_(ce),{size:"small",variant:"secondary",onClick:t=>(async e=>{W.selectedFlagForViewing=e,V.enabledWorkspaces=!0,await he(e,!0)})(e),"full-width":""},{default:d(()=>[u(_(Gt),{size:16,class:"mr-1"}),i[8]||(i[8]=b(" View Enabled Workspaces ",-1))]),_:1},8,["onClick"]),l("div",Fa,[u(_(ce),{size:"small",variant:"tertiary",onClick:t=>(e=>{W.selectedFlagForWorkspaces=e,V.workspaceFeatureFlag=!0})(e),"full-width":""},{default:d(()=>[u(_(Yt),{size:16,class:"mr-1"}),i[9]||(i[9]=b(" Edit ",-1))]),_:1},8,["onClick"]),u(_(ce),{size:"small",variant:"critical",onClick:t=>(async e=>{var t,a;if(confirm(`Delete "${e.name}"?`))try{await nt.deleteFeatureFlag(e.id),null==(t=v.value)||t.showNotification({type:"success",message:"Feature flag deleted"}),ue()}catch(l){null==(a=v.value)||a.showNotification({type:"error",message:l.message})}})(e),"full-width":""},{default:d(()=>[...i[10]||(i[10]=[b(" Delete ",-1)])]),_:1},8,["onClick"])])])]),_:2},1024))),128))]))])):"workspaces"===o.value?(t(),e("div",Ca,[u(_(Re),{modelValue:L.value,"onUpdate:modelValue":i[1]||(i[1]=e=>L.value=e),placeholder:"Search workspaces...",class:"mb-6"},null,8,["modelValue"]),l("div",Sa,[l("p",za,[u(_(Ht),{size:16,class:"text-neutral-500"}),L.value?(t(),e("span",_a," Showing "+s(T.value.length)+" of "+s(K.value)+' workspaces matching "'+s(L.value)+'" ',1)):(t(),e("span",Ea," Showing "+s(T.value.length)+" of "+s(K.value)+" total workspaces ",1))])]),0!==T.value.length||f.workspaces?(t(),e("div",Va,[(t(!0),e(c,null,p(T.value,r=>(t(),n(_(ve),{key:r.id,hover:"",class:"p-6 cursor-pointer",onClick:e=>ze(r)},{default:d(()=>[l("div",Wa,[l("div",Ba,[u(_(Ht),{size:20,class:"text-primary-600"})]),l("div",$a,[l("h3",Ia,s(r.name),1)])]),l("div",Pa,[r.type?(t(),e("div",Na,[u(_(Qt),{size:14,class:"text-neutral-500"}),u(_(Ce),{variant:"neutral",text:r.type,size:"small"},null,8,["text"])])):a("",!0),r.region?(t(),e("div",Ra,[u(_(Kt),{size:14,class:"text-neutral-500"}),u(_(Ce),{variant:"warning",text:r.region,size:"small"},null,8,["text"])])):a("",!0)]),l("div",Ma,[u(_(ce),{size:"small",variant:"tertiary","full-width":"",onClick:e=>ze(r)},{default:d(()=>[...i[11]||(i[11]=[b(" View Feature Flags ",-1)])]),_:1},8,["onClick"])])]),_:2},1032,["onClick"]))),128))])):(t(),e("div",Ta,[u(_(Ht),{size:48,class:"mx-auto text-neutral-400 mb-3"}),L.value?(t(),e("p",Aa,"No workspaces match your search")):(t(),e("p",La,"No workspaces found"))])),Y.value?(t(),e("div",ja,[...i[12]||(i[12]=[l("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-primary-700 border-t-transparent"},null,-1),l("p",{class:"mt-2 text-neutral-600 text-sm"},"Loading more workspaces...",-1)])])):!X.value&&T.value.length>0?(t(),e("div",Oa,[l("p",Ua,"All workspaces loaded ("+s(K.value)+" total)",1)])):a("",!0)])):"audit-logs"===o.value?(t(),e("div",qa,[u(_(Re),{modelValue:A.auditLog,"onUpdate:modelValue":i[2]||(i[2]=e=>A.auditLog=e),placeholder:"Search audit logs...",class:"mb-6"},null,8,["modelValue"]),l("div",Da,[A.auditLog?(t(),e("p",Ha," Showing "+s(y.value.length)+" of "+s(C.value)+' audit logs matching "'+s(A.auditLog)+'" ',1)):(t(),e("p",Za," Showing "+s(y.value.length)+" of "+s(C.value)+" total audit logs ",1))]),l("div",Ga,[(t(!0),e(c,null,p(se.value,r=>(t(),n(_(ve),{key:r.id,class:"p-6"},{default:d(()=>{return[l("div",Ja,[l("div",Ka,[l("div",Ya,[u(_(Ce),{variant:"CREATE"===r.operation?"success":"UPDATE"===r.operation?"info":"danger",text:r.operation},null,8,["variant","text"])]),l("div",Xa,[l("h4",Qa,s(r.featureFlagName),1),l("div",el,[u(_(ea),{size:14}),l("span",null,s(r.team),1),i[13]||(i[13]=l("span",{class:"text-neutral-400"},"",-1)),l("span",null,s((o=r.timestamp,new Date(o).toLocaleString())),1),r.changedBy?(t(),e("span",tl,"")):a("",!0),r.changedBy?(t(),e("span",al,"by "+s(r.changedBy),1)):a("",!0)])])])]),"UPDATE"===r.operation&&(r.oldValues||r.newValues)?(t(),e("div",ll,[i[16]||(i[16]=l("h5",{class:"text-sm font-semibold text-neutral-700 mb-3"},"Changes:",-1)),l("div",sl,[l("div",rl,[i[14]||(i[14]=l("div",{class:"flex items-center gap-2 mb-2"},[l("div",{class:"w-1 h-4 bg-danger-500 rounded"}),l("span",{class:"text-xs font-semibold text-danger-700 uppercase"},"Before")],-1)),l("pre",ol,s(Te(r.oldValues)),1)]),l("div",il,[i[15]||(i[15]=l("div",{class:"flex items-center gap-2 mb-2"},[l("div",{class:"w-1 h-4 bg-success-500 rounded"}),l("span",{class:"text-xs font-semibold text-success-700 uppercase"},"After")],-1)),l("pre",nl,s(Te(r.newValues)),1)])])])):"CREATE"===r.operation&&r.newValues?(t(),e("div",ul,[i[17]||(i[17]=l("h5",{class:"text-sm font-semibold text-neutral-700 mb-3"},"Created with:",-1)),l("div",dl,[l("pre",cl,s(Te(r.newValues)),1)])])):"DELETE"===r.operation&&r.oldValues?(t(),e("div",pl,[i[18]||(i[18]=l("h5",{class:"text-sm font-semibold text-neutral-700 mb-3"},"Deleted flag:",-1)),l("div",gl,[l("pre",vl,s(Te(r.oldValues)),1)])])):a("",!0)];var o}),_:2},1024))),128))]),S.value?(t(),e("div",ml,[...i[19]||(i[19]=[l("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-primary-700 border-t-transparent"},null,-1),l("p",{class:"mt-2 text-neutral-600 text-sm"},"Loading more audit logs...",-1)])])):!E.value&&y.value.length>0?(t(),e("div",fl,[l("p",hl,"All audit logs loaded ("+s(C.value)+" total)",1)])):a("",!0),0!==se.value.length||f.auditLogs?a("",!0):(t(),e("div",yl,[...i[20]||(i[20]=[l("p",{class:"text-neutral-600"},"No audit logs found",-1)])]))])):a("",!0)]),_:1},8,["title","subtitle","loading"]),u(_(Xe),{visible:V.featureFlag,title:W.featureFlag?"Edit Feature Flag":"Create Feature Flag",onClose:ke},{default:d(()=>[u(ot,{"feature-flag":W.featureFlag,"is-edit":!!W.featureFlag,loading:f.featureFlags,onSubmit:be,onCancel:ke},null,8,["feature-flag","is-edit","loading"])]),_:1},8,["visible","title"]),u(_(Xe),{visible:V.workspaceFeatureFlag,title:"Manage Workspace Rollout",size:"lg",onClose:we},{default:d(()=>[u(jt,{"feature-flag":W.selectedFlagForWorkspaces,loading:f.featureFlags,onSubmit:xe,onCancel:we},null,8,["feature-flag","loading"])]),_:1},8,["visible"]),u(_(Xe),{visible:V.workspaceFlags,title:`Feature Flags for ${(null==(r=W.selectedWorkspaceForFlags)?void 0:r.name)||""}`,size:"lg",onClose:Ee},{default:d(()=>[O.value?(t(),e("div",bl,[...i[21]||(i[21]=[l("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-primary-700 border-t-transparent"},null,-1),l("p",{class:"mt-2 text-neutral-600"},"Loading feature flags...",-1)])])):(t(),e("div",xl,[u(_(Re),{modelValue:U.value,"onUpdate:modelValue":i[3]||(i[3]=e=>U.value=e),placeholder:"Search by name, description, or team..."},null,8,["modelValue"]),j.value.length>0?(t(),e("div",kl,[U.value?(t(),e("p",wl," Showing "+s(j.value.length)+" of "+s(H.value)+' feature flags matching "'+s(U.value)+'" ',1)):(t(),e("p",Fl," Showing "+s(j.value.length)+" of "+s(H.value)+" feature flags ",1))])):a("",!0),0!==j.value.length||U.value?0===j.value.length&&U.value?(t(),e("div",Sl,[u(_(Jt),{size:48,class:"mx-auto text-neutral-400 mb-3"}),i[23]||(i[23]=l("p",{class:"text-neutral-600"},"No feature flags match your search",-1))])):(t(),e("div",{key:3,class:"grid grid-cols-1 gap-3 max-h-96 overflow-y-auto",onScroll:_e},[(t(!0),e(c,null,p(j.value,r=>(t(),e("div",{key:r.id,class:"flex items-start gap-3 p-3 bg-white border border-neutral-200 rounded-fiori-lg hover:shadow-fiori-md transition-all"},[l("div",zl,[u(_(Jt),{size:20,class:"text-primary-600"})]),l("div",_l,[l("h4",El,s(r.name),1),r.description?(t(),e("p",Tl,s(r.description),1)):a("",!0),l("div",Al,[u(_(Ce),{variant:"info",text:r.team,size:"small"},null,8,["text"]),u(_(Ce),{variant:r.rolloutPercentage>0?"success":"neutral",text:r.rolloutPercentage>0?"Active":"Inactive",size:"small"},null,8,["variant","text"]),u(_(Ce),{variant:"warning",text:`${r.rolloutPercentage}% rollout`,size:"small"},null,8,["text"])])])]))),128)),Z.value?(t(),e("div",Ll,[...i[24]||(i[24]=[l("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-2 border-primary-700 border-t-transparent"},null,-1),l("p",{class:"mt-2 text-neutral-600 text-xs"},"Loading more...",-1)])])):!G.value&&j.value.length>0?(t(),e("div",Vl,[l("p",Wl,"All feature flags loaded ("+s(H.value)+" total)",1)])):a("",!0)],32)):(t(),e("div",Cl,[u(_(Jt),{size:48,class:"mx-auto text-neutral-400 mb-3"}),i[22]||(i[22]=l("p",{class:"text-neutral-600"},"No feature flags are enabled for this workspace",-1))]))]))]),_:1},8,["visible","title"]),u(_(Xe),{visible:V.enabledWorkspaces,title:`Enabled Workspaces for ${(null==(g=W.selectedFlagForViewing)?void 0:g.name)||""}`,size:"lg",onClose:Fe},{default:d(()=>[$.value?(t(),e("div",Bl,[...i[25]||(i[25]=[l("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-2 border-primary-700 border-t-transparent"},null,-1),l("p",{class:"mt-2 text-neutral-600"},"Loading workspaces...",-1)])])):0!==B.value.length||I.value?(t(),e("div",Il,[u(_(Re),{modelValue:I.value,"onUpdate:modelValue":i[4]||(i[4]=e=>I.value=e),placeholder:"Search by name, type, or region..."},null,8,["modelValue"]),l("div",Pl,[I.value?(t(),e("p",Nl," Showing "+s(B.value.length)+" of "+s(N.value)+' workspaces matching "'+s(I.value)+'" ',1)):(t(),e("p",Rl," Showing "+s(B.value.length)+" of "+s(N.value)+" workspaces ",1))]),0===B.value.length?(t(),e("div",Ml,[u(_(Ht),{size:48,class:"mx-auto text-neutral-400 mb-3"}),i[27]||(i[27]=l("p",{class:"text-neutral-600"},"No workspaces match your search",-1))])):(t(),e("div",{key:1,class:"grid grid-cols-1 gap-3 max-h-96 overflow-y-auto",onScroll:ye},[(t(!0),e(c,null,p(B.value,r=>(t(),e("div",{key:r.id,class:"flex items-start gap-3 p-3 bg-white border border-neutral-200 rounded-fiori-lg hover:shadow-fiori-md transition-all"},[l("div",jl,[u(_(Ht),{size:20,class:"text-primary-600"})]),l("div",Ol,[l("h4",Ul,s(r.name),1),l("div",ql,[r.type?(t(),e("div",Dl,[u(_(Qt),{size:12,class:"text-neutral-500"}),u(_(Ce),{variant:"neutral",text:r.type,size:"small"},null,8,["text"])])):a("",!0),r.region?(t(),e("div",Hl,[u(_(Kt),{size:12,class:"text-neutral-500"}),u(_(Ce),{variant:"warning",text:r.region,size:"small"},null,8,["text"])])):a("",!0),void 0!==r.rolloutPercentage?(t(),e("div",Zl,[u(_(Ce),{variant:"info",text:`${r.rolloutPercentage}% rollout`,size:"small"},null,8,["text"])])):a("",!0)])])]))),128)),R.value?(t(),e("div",Gl,[...i[28]||(i[28]=[l("div",{class:"inline-block animate-spin rounded-full h-6 w-6 border-2 border-primary-700 border-t-transparent"},null,-1),l("p",{class:"mt-2 text-neutral-600 text-xs"},"Loading more...",-1)])])):!M.value&&B.value.length>0?(t(),e("div",Jl,[l("p",Kl,"All workspaces loaded ("+s(N.value)+" total)",1)])):a("",!0)],32))])):(t(),e("div",$l,[u(_(Ht),{size:48,class:"mx-auto text-neutral-400 mb-3"}),i[26]||(i[26]=l("p",{class:"text-neutral-600"},"No workspaces have this feature flag enabled",-1))]))]),_:1},8,["visible","title"])]}),_:1},8,["nav-items","active-nav"]))}},[["__scopeId","data-v-8b24d9bc"]])).mount("#app"),window.addEventListener("load",()=>{setTimeout(()=>{const e=document.getElementById("loading-screen");e&&(e.classList.add("opacity-0","pointer-events-none"),setTimeout(()=>{e.style.display="none"},300))},500)});
